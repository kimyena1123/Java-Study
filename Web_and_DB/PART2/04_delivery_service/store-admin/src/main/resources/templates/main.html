<!DOCTYPE html>
<html lang="kor" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <h1>Main page</h1>

<!--    <h1 th:text="${#authentication.name}"></h1>-->
<!--    <h1 sec:authorize="isAuthenticated()" th:text="${#authentication.name}">사용자 이름</h1>-->

<!--    <h1>가게명: [[${#authentication.principal.storeName}]] </h1>-->
<!--    <h1 th:text="${#authentication.principal.role}"></h1>-->
<!--    <h1 th:text="${#authentication.principal.userId}"></h1>-->
<!--    <h1 th:text="${#authentication.principal.status}"></h1>-->
<!--    <h1 th:text="${#authentication}"></h1>-->


</body>

<script>
    const url = "http://localhost:8081/api/sse/connect"; //접속주소
    const eventSource = new EventSource(url); //sse 연결

    eventSource.onopen = event => {
        console.log("sse connection ");
        console.log(event);
    }

    eventSource.onmessage = event => {
        console.log("receive data : " + event.data); //서버로부터 받은 데이터
    }

</script>
</html>